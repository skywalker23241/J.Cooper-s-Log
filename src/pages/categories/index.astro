---
import BaseHead from '../../components/BaseHead.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import FormattedDate from '../../components/FormattedDate.astro';
import Comment from '../../components/Comment.astro'; 
import { SITE_TITLE, SITE_DESCRIPTION } from '../../consts';

// æœ€è¿‘é˜…è¯»çš„ä¼˜è´¨æ–‡ç« æ¸…å•
const readingList = [
  {
    title: 'Are Best Practices Best?',
    author: 'Quarter Mile',
    url: 'https://quarter--mile.com/Are-Best-Practices-Best',
    description: 'I often hear people working on startups mention â€œbest practices.â€ I have always wonderedâ€”what makes something a best practice? Who determined it was best?',
    dateRead: new Date('2025-08-22'),
    tags: ['Insight', 'Entrepreneurship'],
    rating: 4,
    type: 'Blog Post'
  },
  {
    title: 'AI Doesnt Lighten the Burden of Mastery',
    author: 'Gwendolyn',
    url: 'https://playtechnique.io/blog/ai-doesnt-lighten-the-burden-of-mastery.html',
    description: 'Claude wrote me Go tests that passed. They were beautiful, and they were worthless. They all collapsed to true == true.',
    dateRead: new Date('2025-08-22'),
    tags: ['AI', 'Programming', 'Insight'],
    rating: 5,
    type: 'Blog Post'
  },
  {
    title: 'Temporal Resources: Managing Time When Time Doesnt Exist',
    author: 'The Multiverse Employee Handbook',
    url: 'https://multiverseemployeehandbook.com/blog/temporal-resources-managing-time-when-time-doesnt-exist/',
    description: 'Imagine explaining to your boss why youâ€™re late for a meeting because time doesnâ€™t actually exist. Not in the philosophical â€œtime is a social constructâ€ sense that gets you invited to fewer dinner...',
    dateRead: new Date('2025-06-15'),
    tags: ['Sci-Fic', 'Fantasy'],
    rating: 5,
    type: 'Blog Post'
  },
];

// æŒ‰é˜…è¯»æ—¥æœŸæŽ’åºï¼ˆæœ€æ–°çš„åœ¨å‰ï¼‰
const sortedReadingList = readingList.sort((a, b) => 
  new Date(b.dateRead).getTime() - new Date(a.dateRead).getTime()
);
---

<!doctype html>
<html lang="en">
  <head>
    <BaseHead title={`${SITE_TITLE} | æœ€è¿‘é˜…è¯»`} description="Cooperçš„é˜…è¯»æ¸…å•ï¼Œæ”¶å½•å€¼å¾—æŽ¨èçš„å¥½æ–‡ç« ã€å¥½ä¹¦ç±" />
    <style>
      .reading-list { 
        display: grid; 
        grid-template-columns: 1fr; 
        gap: 1.5rem; 
        max-width: 900px; 
        margin: 0 auto;
      }
      .reading-card { 
        background: var(--bg-accent); 
        border-radius: 12px; 
        padding: 1.5rem; 
        transition: all 0.3s ease;
        border-left: 4px solid var(--accent);
        position: relative;
      }
      .reading-card:hover { 
        box-shadow: var(--box-shadow); 
        transform: translateY(-2px);
      }
      .card-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 1rem;
      }
      .card-title {
        color: var(--text-color);
        font-size: 1.3rem;
        font-weight: 600;
        margin: 0 0 0.5rem 0;
        line-height: 1.3;
      }
      .card-title a {
        color: inherit;
        text-decoration: none;
      }
      .card-title a:hover {
        color: var(--accent);
      }
      .card-author {
        color: var(--text-color);
        opacity: 0.7;
        font-size: 0.9rem;
        margin-bottom: 0.5rem;
      }
      .type-badge {
        background: var(--accent);
        color: white;
        padding: 0.25rem 0.5rem;
        border-radius: 4px;
        font-size: 0.75rem;
        font-weight: 500;
        white-space: nowrap;
      }
      .rating {
        display: flex;
        gap: 0.1rem;
        margin-top: 0.5rem;
      }
      .star {
        color: #fbbf24;
        font-size: 1rem;
      }
      .star.empty {
        color: var(--text-color);
        opacity: 0.3;
      }
      .card-description {
        color: var(--text-color);
        opacity: 0.85;
        line-height: 1.6;
        margin-bottom: 1rem;
        font-size: 0.95rem;
      }
      .card-meta {
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 1rem;
        margin-top: 1rem;
        padding-top: 1rem;
        border-top: 1px solid rgba(var(--text-color-rgb, 255, 255, 255), 0.1);
      }
      .card-date {
        color: var(--text-color);
        opacity: 0.7;
        font-size: 0.875rem;
      }
      .card-tags {
        display: flex;
        gap: 0.5rem;
        flex-wrap: wrap;
      }
      .tag {
        background: rgba(var(--accent-rgb, 79, 70, 229), 0.2);
        color: var(--accent);
        padding: 0.25rem 0.5rem;
        border-radius: 4px;
        font-size: 0.75rem;
        text-decoration: none;
        border: 1px solid rgba(var(--accent-rgb, 79, 70, 229), 0.3);
      }
      .tag:hover {
        background: rgba(var(--accent-rgb, 79, 70, 229), 0.3);
      }
      .intro-text {
        text-align: center;
        margin-bottom: 2rem;
        color: var(--text-color);
        opacity: 0.8;
        line-height: 1.6;
      }
      .stats {
        text-align: center;
        margin-bottom: 2rem;
        color: var(--text-color);
        opacity: 0.7;
        font-size: 0.9rem;
      }
      @media (max-width: 768px) {
        .card-meta {
          flex-direction: column;
          align-items: flex-start;
        }
        .card-header {
          flex-direction: column;
          gap: 0.5rem;
        }
        .reading-card {
          padding: 1.25rem;
        }
      }
    </style>
  </head>
  <body>
    <Header />
    <main>
      <h1 style="margin-bottom: 1rem; text-align: center;">Read Recent</h1>
      <p class="intro-text">Read thousands of books, travel thousands of miles!</p>
      
      <div class="stats">
        Index {sortedReadingList.length} Articles Â· Ongoing updates
      </div>
      
      <div class="reading-list">
        {sortedReadingList.map((item) => {
          return (
            <article class="reading-card">
              <div class="card-header">
                <div>
                  <h2 class="card-title">
                    <a href={item.url} target="_blank" rel="noopener noreferrer">
                      {item.title}
                    </a>
                  </h2>
                  <div class="card-author">by {item.author}</div>
                  <div class="rating">
                    {Array.from({ length: 5 }, (_, i) => (
                      <span class={`star ${i < item.rating ? '' : 'empty'}`}>â˜…</span>
                    ))}
                  </div>
                </div>
                <span class="type-badge">{item.type}</span>
              </div>
              
              <p class="card-description">{item.description}</p>
              
              <div class="card-meta">
                <div class="card-date">
                  Readed on: <FormattedDate date={item.dateRead} />
                </div>
                
                <div class="card-tags">
                  {item.tags.map((tag) => (
                    <span class="tag">{tag}</span>
                  ))}
                </div>
              </div>
            </article>
          );
        })}
      </div>
      
      <div style="text-align: center; margin-top: 2rem; padding: 1.5rem; background: var(--bg-accent); border-radius: 8px; opacity: 0.8;">
        <p style="margin: 0; color: var(--text-color); font-size: 0.9rem;">
          ðŸ’¡ If you have good article recommendations, feel free to share them with me by email or comment.
        </p>
      </div>
        <Comment />
      </section>
    </main>
    <Footer />
  </body>
</html>